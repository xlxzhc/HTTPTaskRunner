# TaskForm.vue 后端测试功能增强 - 快速开始指南

## 🚀 5分钟快速上手

### 第一步：启动应用
```bash
# 确保使用最新构建版本
go build
./myui.exe  # Windows
# 或 ./myui  # Linux/Mac
```

### 第二步：创建测试任务
1. 点击"新建任务"按钮
2. 填写基本信息：
   - **任务名称**：`API测试示例`
   - **URL**：`https://httpbin.org/json`
   - **方法**：`GET`

### 第三步：配置成功条件
#### 选项A：JSON路径判断（推荐用于API）
```
✅ 启用自定义成功条件
条件类型：JSON路径判断
JSON路径：slideshow.title
判断类型：等于
期望值：Sample Slide Show
```

#### 选项B：字符串内容判断（推荐用于网页）
```
✅ 启用自定义成功条件
条件类型：字符串内容判断
判断类型：响应包含
期望值：slideshow
```

### 第四步：执行后端测试
1. 点击"后端测试"按钮
2. 查看详细测试结果：
   - ✅ 成功/失败状态
   - ⏱️ 响应时间
   - 🔢 HTTP状态码
   - 📋 成功条件详情
   - 📄 响应内容预览

### 第五步：保存并执行任务
1. 点击"保存"按钮
2. 在任务列表中点击"执行"
3. 点击日志条目的"详情"按钮查看执行详情

## 🎯 常用场景示例

### 场景1：API接口监控
```yaml
任务配置:
  URL: https://api.example.com/health
  方法: GET
  
成功条件:
  类型: JSON路径判断
  路径: status
  判断: 等于
  期望: healthy
  
用途: 监控API服务健康状态
```

### 场景2：网站可用性检查
```yaml
任务配置:
  URL: https://www.example.com
  方法: GET
  
成功条件:
  类型: 字符串内容判断
  判断: 响应包含
  期望: Welcome
  
用途: 检查网站是否正常显示
```

### 场景3：登录接口测试
```yaml
任务配置:
  URL: https://api.example.com/login
  方法: POST
  请求体: {"username":"test","password":"123456"}
  
成功条件:
  类型: JSON路径判断
  路径: data.token
  判断: 不等于
  期望: ""
  
用途: 验证登录接口返回有效token
```

### 场景4：错误检测
```yaml
任务配置:
  URL: https://api.example.com/data
  方法: GET
  
成功条件:
  类型: 字符串内容判断
  判断: 响应不包含
  期望: error
  
用途: 确保响应中不包含错误信息
```

## 🔧 功能对比表

| 功能 | 旧版本 | 新版本 |
|------|--------|--------|
| 测试结果 | 简单成功/失败 | ✅ 详细状态+时间+HTTP信息 |
| 成功条件 | 仅JSON路径 | ✅ JSON路径+字符串内容 |
| 响应查看 | 无预览 | ✅ 预览+完整内容+展开收起 |
| 日志详情 | 点击无效 | ✅ 完整执行日志+错误信息 |
| 错误处理 | 基础信息 | ✅ 详细错误+调试信息 |
| 条件类型 | 4种操作符 | ✅ 8种操作符+智能切换 |

## 💡 使用技巧

### 技巧1：快速测试API
1. 粘贴API URL
2. 选择"JSON路径判断"
3. 输入关键字段路径（如：`data.status`）
4. 点击"后端测试"立即验证

### 技巧2：监控网页变化
1. 输入网页URL
2. 选择"字符串内容判断"
3. 输入页面关键文本
4. 设置定时执行监控变化

### 技巧3：调试失败原因
1. 查看"成功条件评估详情"
2. 对比"期望值"和"实际值"
3. 根据"详细说明"调整条件

### 技巧4：处理大响应
1. 使用"响应内容预览"快速查看
2. 点击"展开内容"查看完整响应
3. 使用"复制内容"保存到剪贴板

## ⚠️ 注意事项

### 安全提醒
- 🔒 敏感信息会自动脱敏显示
- 🔑 认证头信息不会在日志中明文显示
- 🛡️ 使用HTTPS确保数据传输安全

### 性能建议
- ⚡ 大响应体优先使用JSON路径判断
- 🕐 合理设置请求超时时间
- 📊 避免过于频繁的测试请求

### 兼容性说明
- ✅ 完全向后兼容现有任务
- ✅ 现有JSON路径条件无需修改
- ✅ 新功能可与旧功能混合使用

## 🆘 快速故障排除

### 问题：测试按钮无响应
**解决**：检查URL是否填写，确保网络连接正常

### 问题：JSON路径找不到值
**解决**：
1. 查看响应内容预览
2. 确认JSON结构正确
3. 使用点号分隔嵌套字段（如：`data.user.name`）

### 问题：字符串条件总是失败
**解决**：
1. 检查期望值是否包含特殊字符
2. 确认响应内容类型
3. 使用"响应包含"而非"响应等于"

### 问题：日志详情显示空白
**解决**：
1. 确保任务已完全执行完成
2. 刷新页面重新加载
3. 检查浏览器控制台错误信息

## 📞 获取帮助

### 调试信息
- 查看浏览器开发者工具控制台
- 检查后端日志输出
- 使用"后端测试"功能验证配置

### 常见错误码
- **0**：网络连接失败
- **404**：URL不存在
- **500**：服务器内部错误
- **超时**：请求响应时间过长

### 最佳实践
1. **先测试再保存**：使用后端测试验证配置
2. **逐步调试**：从简单条件开始，逐步完善
3. **查看详情**：利用详细信息定位问题
4. **备份配置**：重要任务配置做好备份

---

🎉 **恭喜！** 您已掌握TaskForm.vue后端测试功能的所有增强特性。现在可以创建更强大、更可靠的HTTP任务监控！

需要更多帮助？查看完整的[实现报告](TASKFORM_BACKEND_TESTING_ENHANCEMENTS_REPORT.md)获取详细技术信息。
